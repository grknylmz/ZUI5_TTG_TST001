sap.ui.controller("zui5_ttg_app001.PublishMessage", {































































































































































































































































































































































































































































































































	navBack	: function() {































































































































































































































































		sap.ui.getCore().getEventBus().publish(































































































































































































































































				"nav", 































































































































































































































































				"to", {































































































































































































































































				  viewName: "zui5_ttg_app001.Main",































































































































































































































































				  viewId: "Main"































































































































































































































































			});































































































































































































































































	},































































































































































































































































































































































































































































































































	publishMessage	: function(oEvent) {































































































































































































































































		































































































































































































































































		var oView = oEvent.getSource().oParent.oParent.oParent;































































































































































































































































		































































































































































































































































		if (!this.oDialog) {































































































































































































































































			this.oDialog = new sap.m.Dialog({































































































































































































































































				title		: "İşlemi Onayla",































































































































































































































































				rightButton	: new sap.m.Button({































































































































































































































































					text	: "İptal",































































































































































































































































					icon 	: "sap-icon://decline",































































































































































































































































					press	: function(){ this.oParent.close(); }































































































































































































































































				}),































































































































































































































































				leftButton: new sap.m.Button({































































































































































































































































					text	: "Tamam",































































































































































































































































					icon 	: "sap-icon://accept",































































































































































































































































					press	: function(){































































































































































































































































						































































































































































































































































						var that = this;































































































































































































































































						































































































































































































































































						var oModel = new sap.ui.model.odata.ODataModel("/sap/opu/odata/sap/ZGW_AKILLI_KASA_SRV_01/", false);































































































































































































































































						var oSelectedItems = oView.byId("publishMessageBranchTable").getSelectedItems();































































































































































































































































						var oBusyDialog = new sap.m.BusyDialog({ text : "Lütfen bekleyiniz" });































































































































































































































































						var oFilter = [];































































































































































































































































						































































































































































































































































						// if no branch selected































































































































































































































































						if (oSelectedItems.length <= 0) {































































































































































































































































							var oMessageData = { TYPE:"E", MESSAGE:"En az bir bayi seçiniz!"};































































































































































































































































							oView.getController().showMessage(oMessageData);































































































































































































































































							that.oParent.close();































































































































































































































































							return;































































































































































































































































						}































































































































































































































































						































































































































































































































































						// if message empty































































































































































































































































						if (oView.byId("publishMessageText").getValue() == "") {































































































































































































































































							var oMessageData = { TYPE:"E", MESSAGE:"Mesaj metni giriniz!"};































































































































































































































































							oView.getController().showMessage(oMessageData);































































































































































































































































							that.oParent.close();































































































































































































































































							return;































































































































































































































































						}































































































































































































































































						































































































































































































































































						// set filters for oData service































































































































































































































































						for (var i = 0; i < oSelectedItems.length; i++) {































































































































































































































































							oFilter.push(new sap.ui.model.Filter("DealerId", sap.ui.model.FilterOperator.EQ, oSelectedItems[i].getCells()[0].getTitle()));































































































































































































































































						}































































































































































































































































						































































































































































































































































						oFilter.push(new sap.ui.model.Filter("Mesaj", sap.ui.model.FilterOperator.EQ, oView.byId("publishMessageText").getValue()));































































































































































































































































						































































































































































































































































						// invoke oData service































































































































































































































































						var mParameters = { async			: true,































































































































































































































































											filters 	  	: oFilter,































































































































































































































































											urlParameters 	: null,































































































































































































































































											success			: function(oData) {































































































































































































































































																oBusyDialog.close();































































































































































































































































													































































































































































































































































																var oMessageData = { TYPE:"S", MESSAGE:"Mesajınız yayınlandı"};































































































































































































































































																oView.getController().showMessage(oMessageData);































































































































































































































































												  				},































































































































































































































































											error			: function() {































































































































































































































































																oBusyDialog.close();































































































































































































































































													































































































































































































































































																var oMessageData = { TYPE:"E", MESSAGE:"Bağlantı hatası!"};































































































































































































































































																oView.getController().showMessage(oMessageData);































































































































































































































































												  				}































































































































































































































































											};































































































































































































































































						































































































































































































































































						oModel.read("/messagesSet", mParameters);































































































































































































































































						































































































































































































































































						this.oParent.close();































































































































































































































































					}































































































































































































































































				}),































































































































































































































































				content: [































































































































































































































































				          new sap.m.Text().setText("Mesajınız seçtiğiniz tüm bayilere gönderilecektir, onaylıyor musunuz?")































































































































































































































































				         ]































































































































































































































































				});































































































































































































































































		}































































































































































































































































		this.oDialog.open();































































































































































































































































	},































































































































































































































































	































































































































































































































































/**































































































































































































































































* Display message































































































































































































































































* @memberOf zui5_ttg_app001.PublishMessage































































































































































































































































*/































































































































































































































































	showMessage	: function(data) {































































































































































































































































		































































































































































































































































		jQuery.sap.require("sap.m.MessageBox");































































































































































































































































		































































































































































































































































		var oIcon, sTitle;































































































































































































































































		































































































































































































































































		switch (data.TYPE) {































































































































































































































































		case "S": oIcon = sap.m.MessageBox.Icon.SUCCESS; 	 break;































































































































































































































































		case "I": oIcon = sap.m.MessageBox.Icon.INFORMATION; break;































































































































































































































































		case "E": oIcon = sap.m.MessageBox.Icon.ERROR;		 break;































































































































































































































































		case "W": oIcon = sap.m.MessageBox.Icon.WARNING;	 break;































































































































































































































































		default: break;































































































































































































































































		}































































































































































































































































		































































































































































































































































    	sap.m.MessageBox.show( data.MESSAGE, { icon		: oIcon,































































































































































































































































    										   title	: sTitle,































































































































































































































































    		          		   				   actions	: [sap.m.MessageBox.Action.OK],































































































































































































































































    		      							 });































































































































































































































































	},































































































































































































































































	































































































































































































































































/**































































































































































































































































* Called when a controller is instantiated and its View controls (if available) are already created.































































































































































































































































* Can be used to modify the View before it is displayed, to bind event handlers and do other one-time initialization.































































































































































































































































* @memberOf zui5_ttg_app001.PublishMessage































































































































































































































































*/































































































































































































































































	onInit: function() {































































































































































































































































		































































































































































































































































		this.getView().addEventDelegate({































































































































































































































































			onBeforeShow : jQuery.proxy(function(evt) {































































































































































































































































				this.onBeforeShow(evt);































































































































































































































































			}, this) });































































































































































































































































		































































































































































































































































		this.getView().byId("publishMessageBranchTable").setModel(oUserCreditsModel);































































































































































































































































	},































































































































































































































































	































































































































































































































































	onBeforeShow	: function() {































































































































































































































































		































































































































































































































































	},































































































































































































































































































































































































































































































































/**































































































































































































































































* Similar to onAfterRendering, but this hook is invoked before the controller's View is re-rendered































































































































































































































































* (NOT before the first rendering! onInit() is used for that one!).































































































































































































































































* @memberOf zui5_ttg_app001.PublishMessage































































































































































































































































*/































































































































































































































































//	onBeforeRendering: function() {































































































































































































































































//































































































































































































































































//	},































































































































































































































































































































































































































































































































/**































































































































































































































































* Called when the View has been rendered (so its HTML is part of the document). Post-rendering manipulations of the HTML could be done here.































































































































































































































































* This hook is the same one that SAPUI5 controls get after being rendered.































































































































































































































































* @memberOf zui5_ttg_app001.PublishMessage































































































































































































































































*/































































































































































































































































//	onAfterRendering: function() {































































































































































































































































//































































































































































































































































//	},































































































































































































































































































































































































































































































































/**































































































































































































































































* Called when the Controller is destroyed. Use this one to free resources and finalize activities.































































































































































































































































* @memberOf zui5_ttg_app001.PublishMessage































































































































































































































































*/































































































































































































































































//	onExit: function() {































































































































































































































































//































































































































































































































































//	}































































































































































































































































































































































































































































































































});