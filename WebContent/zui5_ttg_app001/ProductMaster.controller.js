sap.ui.controller("zui5_ttg_app001.ProductMaster", {































































































































































































































































































































































































































































































































	navBack : function(sChannelId, sEventId, oData) {































































































































































































































































		sap.ui.getCore().getEventBus().publish(































































































































































































































































				"nav", 































































































































































































































































				"to", {































































































































































































































































				  viewName: "zui5_ttg_app001.Main",































































































































































































































































				  viewId: "Main"































































































































































































































































			});































































































































































































































































	},































































































































































































































































































































































































































































































































/**































































































































































































































































* Called when a controller is instantiated and its View controls (if available) are already created.































































































































































































































































* Can be used to modify the View before it is displayed, to bind event handlers and do other one-time initialization.































































































































































































































































* @memberOf zui5_ttg_app001.ProductMaster































































































































































































































































*/































































































































































































































































	onInit: function() {































































































































































































































































		































































































































































































































































		var oDeviceModel = new sap.ui.model.json.JSONModel({































































































































































































































































			isTouch 	: sap.ui.Device.support.touch,































































































































































































































































			isPhone 	: sap.ui.Device.system.phone,































































































































































































































































			listMode 	: sap.ui.Device.system.phone ? sap.m.ListMode.None : sap.m.ListMode.SingleSelectMaster,































































































































































































































































			listItemType: sap.ui.Device.system.phone ? sap.m.ListType.Navigation : sap.m.ListType.None































































































































































































































































		});































































































































































































































































		































































































































































































































































		this.getView().setModel(oDeviceModel, "device");































































































































































































































































		































































































































































































































































		this.getView().addEventDelegate({































































































































































































































































			onBeforeShow : jQuery.proxy(function(evt) {































































































































































































































































				this.onBeforeShow(evt);































































































































































































































































			}, this) });































































































































































































































































	},































































































































































































































































	































































































































































































































































	onBeforeShow	: function() {































































































































































































































































		console.log("onBeforeShow invoked");































































































































































































































































	},































































































































































































































































	































































































































































































































































/** 































































































































































































































































* List navigation































































































































































































































































* @memberOf zui5_ttg_app001.ProductMaster































































































































































































































































*/































































































































































































































































	onListSelect: function(oEvent){































































































































































































































































		// Read Context































































































































































































































































		var oBindingContext = oEvent.getParameter("listItem").getBindingContext();































































































































































































































































				































































































































































































































































		sViewId = "detailProduct_" + oEvent.getParameter("listItem").data("productID");































































































































































































































































		































































































































































































































































		sSelectedProduct = oEvent.getParameter("listItem").data("productID");































































































































































































































































		































































































































































































































































		// Publish Event to EventBus































































































































































































































































		sap.ui.getCore().getEventBus().publish(































































































































































































































































			"nav", 































































































































































































































































			"to", {































































































































































































































































			  viewName: "zui5_ttg_app001.ProductDetail",































































































































































































































































			  viewId: sViewId,































































































































































































































































			  data: {































































































































































































































































				 bindingContext: oBindingContext,































































































































































































































































				 prodListSelect: true































































































































































































































































			}































































































































































































































































		});































































































































































































































































	},































































































































































































































































	































































































































































































































































	onListItemTap: function(oEvent){































































































































































































































































		































































































































































































































































		// see onListSelect































































































































































































































































		var oBindingContext = oEvent.oSource.getBindingContext();































































































































































































































































			































































































































































































































































		sViewId = "detailProduct_" +  oEvent.oSource.data("productID");































































































































































































































































		































































































































































































































































		sSelectedProduct = oEvent.oSource.data("productID");































































































































































































































































































































































































































































































































		sap.ui.getCore().getEventBus().publish(































































































































































































































































			"nav", 































































































































































































































































			"to", {































































































































































































































































			  viewName: "zui5_ttg_app001.ProductDetail",































































































































































































































































			  viewId: sViewId,































































































































































































































































			  data: {































































































































































































































































				 bindingContext: oBindingContext,































































































































































































































































				 prodListSelect: true































































































































































































































































			}































































































































































































































































		});































































































































































































































































	},































































































































































































































































































































































































































































































































/** 































































































































































































































































* Back navigation































































































































































































































































* @memberOf zui5_ttg_app001.ProductMaster































































































































































































































































*/































































































































































































































































	onNavButtonTap: function(){































































































































































































































































		sap.ui.getCore().getEventBus().publish(































































































































































































































































				"nav", 































































































































































































































































				"back"































































































































































































































































				);































































































































































































































































		},































































































































































































































































































































































































































































































































/** 































































































































































































































































* Search product































































































































































































































































* @memberOf zui5_ttg_app001.ProductMaster































































































































































































































































*/































































































































































































































































	searchProduct	: function(oEvent) {































































































































































































































































		































































































































































































































































		var oModel = new sap.ui.model.odata.ODataModel("/sap/opu/odata/sap/ZGW_AKILLI_KASA_SRV_01/", false);































































































































































































































































		































































































































































































































































		var oBusyDialog = new sap.m.BusyDialog({ text : "Lütfen bekleyiniz" });































































































































































































































































		var oView       = oEvent.getSource().oParent.oParent;































































































































































































































































		var oList 		= oView.byId("productList");































































































































































































































































		































































































































































































































































		var oSearchString = oEvent.getParameters().query;































































































































































































































































		































































































































































































































































		if (oSearchString == "") return;































































































































































































































































		































































































































































































































































		var oFilter = [































































































































































































































































		               new sap.ui.model.Filter("dealerID",   	sap.ui.model.FilterOperator.EQ, sDealerID),































































































































































































































































		               new sap.ui.model.Filter("searchString",	sap.ui.model.FilterOperator.EQ, oSearchString),































































































































































































































































		               new sap.ui.model.Filter("Ztype",			sap.ui.model.FilterOperator.EQ, "S"),































































































































































































































































		               new sap.ui.model.Filter("Source",		sap.ui.model.FilterOperator.EQ, "U"),































































































































































































































































		              ];































































































































































































































































		































































































































































































































































		var mParameters = { async			: true,































































































































































































































































							filters 	  	: oFilter,































































































































































































































































							urlParameters 	: null,































































































































































































































































							success			: function(oData) {































































































































































































































































												// clear list































































































































































































































































												oList.removeAllItems();































































































































































































































































								































































































































































































































































												// error message if no product is found































































































































































































































































												if (oData.results[0] == undefined){































































































































































































































































													oBusyDialog.close();































































































































































































































































													var oMessageData = { TYPE:"E", MESSAGE:"Ürün bulunamadı!"};































































































































































































































































													oView.getController().showMessage(oMessageData);































































































































































































































































													return;































































































































































































































































												}































































































































































































































































									































































































































































































































































												// display products































































































































































































































































												for (var i = 0; i < oData.results.length; i++) {































































































































































































































































													oList.addItem(new sap.m.StandardListItem({































































































































































































































































														type		: sap.ui.Device.system.phone ? sap.m.ListType.Navigation : sap.m.ListType.None,































































































































































































































































														icon		: "sap-icon://product",































































































































































































































































														title		: oData.results[i].Matnr,































































































































































































































































														description	: oData.results[i].Maktx,































































































































































































































































														tap			: oView.getController().onListItemTap,































































































































































































































































														customData: [































































































































































































































































														             new sap.ui.core.CustomData({































































































































































































































































														            	 key	: "productID",































































































































































































































































														            	 value	: oData.results[i].Matnr































































































































































































































































														             }),































































































































































































































































														            ],































































































































































































































































														}));































































































































































































































































												}































































































































































































































































												































































































































































































































































												oBusyDialog.close();































































































































































































































































											},































































































































































































































































							error			: function() {































































































































































































































































												oBusyDialog.close();































































































































































































































































												var oMessageData = { TYPE:"E", MESSAGE:"Bağlantı hatası!"};































































































































































































































































												oView.getController().showMessage(oMessageData);































































































































































































































































								  			}































































































































































































































































						};































































































































































































































































































































































































































































































































		oBusyDialog.open();































































































































































































































































		oModel.read("/productSaleInfoSet", mParameters);































































































































































































































































	},































































































































































































































































	































































































































































































































































/**































































































































































































































































* Display message































































































































































































































































* @memberOf zui5_ttg_app001.ProductMaster































































































































































































































































*/	































































































































































































































































			showMessage	: function(data) {































































































































































































































































				































































































































































































































































				jQuery.sap.require("sap.m.MessageBox");































































































































































































































































				































































































































































































































































				var oIcon, sTitle;































































































































































































































































				































































































































































































































































				switch (data.TYPE) {































































































































































































































































				case "S": oIcon = sap.m.MessageBox.Icon.SUCCESS; 	 break;































































































































































































































































				case "I": oIcon = sap.m.MessageBox.Icon.INFORMATION; break;































































































































































































































































				case "E": oIcon = sap.m.MessageBox.Icon.ERROR;		 break;































































































































































































































































				case "W": oIcon = sap.m.MessageBox.Icon.WARNING;	 break;































































































































































































































































				default: break;































































































































































































































































				}































































































































































































































































				































































































































































































































































		    	sap.m.MessageBox.show( data.MESSAGE, { icon		: oIcon,































































































































































































































































		    										   title	: sTitle,































































































































































































































































		    		          		   				   actions	: [sap.m.MessageBox.Action.OK],































































































































































































































































		    		      							 });































































































































































































































































			},































































































































































































































































	































































































































































































































































/**































































































































































































































































* Similar to onAfterRendering, but this hook is invoked before the controller's View is re-rendered































































































































































































































































* (NOT before the first rendering! onInit() is used for that one!).































































































































































































































































* @memberOf zui5_ttg_app001.ProductMaster































































































































































































































































*/































































































































































































































































//	onBeforeRendering: function() {































































































































































































































































//































































































































































































































































//	},































































































































































































































































































































































































































































































































/**































































































































































































































































* Called when the View has been rendered (so its HTML is part of the document). Post-rendering manipulations of the HTML could be done here.































































































































































































































































* This hook is the same one that SAPUI5 controls get after being rendered.































































































































































































































































* @memberOf zui5_ttg_app001.ProductMaster































































































































































































































































*/































































































































































































































































//	onAfterRendering: function() {































































































































































































































































//































































































































































































































































//	},































































































































































































































































































































































































































































































































/**































































































































































































































































* Called when the Controller is destroyed. Use this one to free resources and finalize activities.































































































































































































































































* @memberOf zui5_ttg_app001.ProductMaster































































































































































































































































*/































































































































































































































































//	onExit: function() {































































































































































































































































//































































































































































































































































//	}































































































































































































































































































































































































































































































































});